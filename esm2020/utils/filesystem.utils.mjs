/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.dev/license
 */
import { normalizePath } from './navigation.utils';
export const checkFilesInDirectory = async (dir, fs, filterFoldersPredicate = () => true, files = []) => {
    const entries = (await fs.readdir(dir, { withFileTypes: true })) ?? [];
    for (const entry of entries) {
        const fullPath = normalizePath(`${dir}/${entry.name}`);
        if (entry.isFile()) {
            const content = await fs.readFile(fullPath, 'utf-8');
            files.push({ content, path: fullPath });
        }
        else if (entry.isDirectory() && filterFoldersPredicate(entry.name)) {
            await checkFilesInDirectory(fullPath, fs, filterFoldersPredicate, files);
        }
    }
    return files;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZXN5c3RlbS51dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2RvY3MvdXRpbHMvZmlsZXN5c3RlbS51dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFFSCxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFnQ2pELE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLEtBQUssRUFDeEMsR0FBVyxFQUNYLEVBQWlCLEVBQ2pCLHlCQUFxRCxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQy9ELFFBQTBCLEVBQUUsRUFDNUIsRUFBRTtJQUNGLE1BQU0sT0FBTyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBRXJFLEtBQUssTUFBTSxLQUFLLElBQUksT0FBTyxFQUFFLENBQUM7UUFDNUIsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRXZELElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbkIsTUFBTSxPQUFPLEdBQUcsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNyRCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNyRSxNQUFNLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmRldi9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHtub3JtYWxpemVQYXRofSBmcm9tICcuL25hdmlnYXRpb24udXRpbHMnO1xuaW1wb3J0IHtGaWxlQW5kQ29udGVudH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmludGVyZmFjZSBEaXJFbnQ8VD4ge1xuICBuYW1lOiBUO1xuICBpc0ZpbGUoKTogYm9vbGVhbjtcbiAgaXNEaXJlY3RvcnkoKTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEZpbGVTeXN0ZW1BUEkge1xuICByZWFkZGlyKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBlbmNvZGluZz86XG4gICAgICAgIHwgJ2FzY2lpJ1xuICAgICAgICB8ICd1dGY4J1xuICAgICAgICB8ICd1dGYtOCdcbiAgICAgICAgfCAndXRmMTZsZSdcbiAgICAgICAgfCAndWNzMidcbiAgICAgICAgfCAndWNzLTInXG4gICAgICAgIHwgJ2Jhc2U2NCdcbiAgICAgICAgfCAnYmFzZTY0dXJsJ1xuICAgICAgICB8ICdsYXRpbjEnXG4gICAgICAgIHwgJ2JpbmFyeSdcbiAgICAgICAgfCAnaGV4J1xuICAgICAgICB8IG51bGw7XG4gICAgICB3aXRoRmlsZVR5cGVzOiB0cnVlO1xuICAgIH0sXG4gICk6IFByb21pc2U8RGlyRW50PHN0cmluZz5bXT47XG4gIHJlYWRGaWxlKHBhdGg6IHN0cmluZywgZW5jb2Rpbmc/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz47XG59XG5cbmV4cG9ydCBjb25zdCBjaGVja0ZpbGVzSW5EaXJlY3RvcnkgPSBhc3luYyAoXG4gIGRpcjogc3RyaW5nLFxuICBmczogRmlsZVN5c3RlbUFQSSxcbiAgZmlsdGVyRm9sZGVyc1ByZWRpY2F0ZTogKHBhdGg/OiBzdHJpbmcpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlLFxuICBmaWxlczogRmlsZUFuZENvbnRlbnRbXSA9IFtdLFxuKSA9PiB7XG4gIGNvbnN0IGVudHJpZXMgPSAoYXdhaXQgZnMucmVhZGRpcihkaXIsIHt3aXRoRmlsZVR5cGVzOiB0cnVlfSkpID8/IFtdO1xuXG4gIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gbm9ybWFsaXplUGF0aChgJHtkaXJ9LyR7ZW50cnkubmFtZX1gKTtcblxuICAgIGlmIChlbnRyeS5pc0ZpbGUoKSkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKGZ1bGxQYXRoLCAndXRmLTgnKTtcbiAgICAgIGZpbGVzLnB1c2goe2NvbnRlbnQsIHBhdGg6IGZ1bGxQYXRofSk7XG4gICAgfSBlbHNlIGlmIChlbnRyeS5pc0RpcmVjdG9yeSgpICYmIGZpbHRlckZvbGRlcnNQcmVkaWNhdGUoZW50cnkubmFtZSkpIHtcbiAgICAgIGF3YWl0IGNoZWNrRmlsZXNJbkRpcmVjdG9yeShmdWxsUGF0aCwgZnMsIGZpbHRlckZvbGRlcnNQcmVkaWNhdGUsIGZpbGVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlsZXM7XG59O1xuIl19