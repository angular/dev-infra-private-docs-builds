/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.dev/license
 */
import { CommonModule, NgIf, NgSwitch, NgSwitchCase } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, DestroyRef, ViewChild, effect, inject, } from '@angular/core';
import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import { delay, filter, map } from 'rxjs';
import { LoadingStep } from '../services/node-runtime-sandbox.service';
import { NodeRuntimeSandbox } from '../services/node-runtime-sandbox.service';
import { NodeRuntimeState } from '../services/node-runtime-state.service';
// TODO(josephperrott): Determine how we can load the preview error component dynamically again.
import { PreviewError } from './preview-error.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class Preview {
    constructor() {
        this.changeDetectorRef = inject(ChangeDetectorRef);
        this.destroyRef = inject(DestroyRef);
        this.nodeRuntimeSandbox = inject(NodeRuntimeSandbox);
        this.nodeRuntimeState = inject(NodeRuntimeState);
        this.loadingProgressValue = this.nodeRuntimeState.loadingStep;
        this.loadingEnum = LoadingStep;
        effect(async () => {
            if (this.nodeRuntimeState.loadingStep() === LoadingStep.ERROR) {
                this.previewErrorComponent = PreviewError;
                this.changeDetectorRef.markForCheck();
            }
        });
    }
    ngAfterViewInit() {
        this.nodeRuntimeSandbox.previewUrl$
            .pipe(map((url) => ({ url, previewIframe: this.previewIframe })), filter((value) => !!value.previewIframe), 
        // Note: The delay is being used here to workaround the flickering issue
        // while switching tutorials
        delay(100), takeUntilDestroyed(this.destroyRef))
            .subscribe(({ url, previewIframe }) => {
            // Known issue - Binding to the src of an iframe causes the iframe to flicker: https://github.com/angular/angular/issues/16994
            previewIframe.nativeElement.src = url ?? '';
        });
    }
}
Preview.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.1.0-next.1", ngImport: i0, type: Preview, deps: [], target: i0.ɵɵFactoryTarget.Component });
Preview.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.1.0-next.1", type: Preview, isStandalone: true, selector: "docs-tutorial-preview", viewQueries: [{ propertyName: "previewIframe", first: true, predicate: ["preview"], descendants: true }], ngImport: i0, template: "<div class=\"adev-embedded-editor-preview-container\">\n  @if (loadingProgressValue() !== loadingEnum.ERROR) {\n  <iframe\n    #preview\n    class=\"adev-embedded-editor-preview\"\n    allow=\"cross-origin-isolated\"\n    title=\"Editor preview\"\n  ></iframe>\n  } @if (previewErrorComponent) {\n  <ng-container\n    *ngComponentOutlet=\"previewErrorComponent\"\n  />\n  } @if (loadingProgressValue() < loadingEnum.READY && loadingProgressValue() !== loadingEnum.ERROR)\n  {\n  <div class=\"adev-embedded-editor-preview-loading\">\n    @switch (loadingProgressValue()) { @case (loadingEnum.NOT_STARTED) {\n    <span class=\"adev-embedded-editor-preview-loading-starting\">Starting</span>\n    } @case (loadingEnum.BOOT) {\n    <span class=\"adev-embedded-editor-preview-loading-boot\">Booting</span>\n    } @case (loadingEnum.LOAD_FILES) {\n    <span class=\"adev-embedded-editor-preview-loading-load-files\">Creating project</span>\n    } @case (loadingEnum.INSTALL) {\n    <span class=\"adev-embedded-editor-preview-loading-install\">Installing packages</span>\n    } @case (loadingEnum.START_DEV_SERVER) {\n    <span class=\"adev-embedded-editor-preview-loading-start-dev-server\">\n      Initializing dev server\n    </span>\n    } }\n    <progress\n      title=\"Preview progress\"\n      [value]=\"loadingProgressValue()\"\n      [max]=\"loadingEnum.READY\"\n    ></progress>\n  </div>\n  }\n</div>\n", styles: [":host{display:block;height:calc(100% - 50px)}.adev-dark-mode :host .adev-embedded-editor-preview-container{background:var(--gray-100)}:host:has(.adev-preview-error) .adev-embedded-editor-preview-container{overflow-y:auto}.adev-embedded-editor-preview-container{display:flex;width:100%;height:100%;position:relative;color:#000;background:#fff;transition:background .3s ease;box-sizing:border-box}.adev-embedded-editor-preview-container iframe{width:100%;height:100%;border:0}.adev-embedded-editor-preview-container .adev-embedded-editor-preview-loading{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;position:absolute;inset:0;margin:auto;width:100%;height:100%;background:#fff}/*# sourceMappingURL=preview.component.css.map */\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgComponentOutlet, selector: "[ngComponentOutlet]", inputs: ["ngComponentOutlet", "ngComponentOutletInputs", "ngComponentOutletInjector", "ngComponentOutletContent", "ngComponentOutletNgModule", "ngComponentOutletNgModuleFactory"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.0-next.1", ngImport: i0, type: Preview, decorators: [{
            type: Component,
            args: [{ standalone: true, selector: 'docs-tutorial-preview', changeDetection: ChangeDetectionStrategy.OnPush, imports: [CommonModule, NgIf, NgSwitch, NgSwitchCase], template: "<div class=\"adev-embedded-editor-preview-container\">\n  @if (loadingProgressValue() !== loadingEnum.ERROR) {\n  <iframe\n    #preview\n    class=\"adev-embedded-editor-preview\"\n    allow=\"cross-origin-isolated\"\n    title=\"Editor preview\"\n  ></iframe>\n  } @if (previewErrorComponent) {\n  <ng-container\n    *ngComponentOutlet=\"previewErrorComponent\"\n  />\n  } @if (loadingProgressValue() < loadingEnum.READY && loadingProgressValue() !== loadingEnum.ERROR)\n  {\n  <div class=\"adev-embedded-editor-preview-loading\">\n    @switch (loadingProgressValue()) { @case (loadingEnum.NOT_STARTED) {\n    <span class=\"adev-embedded-editor-preview-loading-starting\">Starting</span>\n    } @case (loadingEnum.BOOT) {\n    <span class=\"adev-embedded-editor-preview-loading-boot\">Booting</span>\n    } @case (loadingEnum.LOAD_FILES) {\n    <span class=\"adev-embedded-editor-preview-loading-load-files\">Creating project</span>\n    } @case (loadingEnum.INSTALL) {\n    <span class=\"adev-embedded-editor-preview-loading-install\">Installing packages</span>\n    } @case (loadingEnum.START_DEV_SERVER) {\n    <span class=\"adev-embedded-editor-preview-loading-start-dev-server\">\n      Initializing dev server\n    </span>\n    } }\n    <progress\n      title=\"Preview progress\"\n      [value]=\"loadingProgressValue()\"\n      [max]=\"loadingEnum.READY\"\n    ></progress>\n  </div>\n  }\n</div>\n", styles: [":host{display:block;height:calc(100% - 50px)}.adev-dark-mode :host .adev-embedded-editor-preview-container{background:var(--gray-100)}:host:has(.adev-preview-error) .adev-embedded-editor-preview-container{overflow-y:auto}.adev-embedded-editor-preview-container{display:flex;width:100%;height:100%;position:relative;color:#000;background:#fff;transition:background .3s ease;box-sizing:border-box}.adev-embedded-editor-preview-container iframe{width:100%;height:100%;border:0}.adev-embedded-editor-preview-container .adev-embedded-editor-preview-loading{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;position:absolute;inset:0;margin:auto;width:100%;height:100%;background:#fff}/*# sourceMappingURL=preview.component.css.map */\n"] }]
        }], ctorParameters: () => [], propDecorators: { previewIframe: [{
                type: ViewChild,
                args: ['preview']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJldmlldy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9kb2NzL2VkaXRvci9wcmV2aWV3L3ByZXZpZXcuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZG9jcy9lZGl0b3IvcHJldmlldy9wcmV2aWV3LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRztBQUVILE9BQU8sRUFBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUMzRSxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUVWLFNBQVMsRUFDVCxNQUFNLEVBQ04sTUFBTSxHQUNQLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxrQkFBa0IsRUFBQyxNQUFNLDRCQUE0QixDQUFDO0FBQzlELE9BQU8sRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUV4QyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sMENBQTBDLENBQUM7QUFDckUsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sMENBQTBDLENBQUM7QUFDNUUsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sd0NBQXdDLENBQUM7QUFFeEUsZ0dBQWdHO0FBQ2hHLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQzs7O0FBZXZELE1BQU0sT0FBTyxPQUFPO0lBYWxCO1FBVmlCLHNCQUFpQixHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzlDLGVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEMsdUJBQWtCLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDaEQscUJBQWdCLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFFN0QseUJBQW9CLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQztRQUN6RCxnQkFBVyxHQUFHLFdBQVcsQ0FBQztRQUt4QixNQUFNLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDaEIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLEtBQUssV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUM5RCxJQUFJLENBQUMscUJBQXFCLEdBQUcsWUFBWSxDQUFDO2dCQUUxQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDeEMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVzthQUNoQyxJQUFJLENBQ0gsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFDLENBQUMsQ0FBQyxFQUN4RCxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQW1DLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztRQUN6RSx3RUFBd0U7UUFDeEUsNEJBQTRCO1FBQzVCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFDVixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQ3BDO2FBQ0EsU0FBUyxDQUFDLENBQUMsRUFBQyxHQUFHLEVBQUUsYUFBYSxFQUFDLEVBQUUsRUFBRTtZQUNsQyw4SEFBOEg7WUFDOUgsYUFBYSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUM5QyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7OzJHQXJDVSxPQUFPOytGQUFQLE9BQU8sMkxDM0NwQixpNENBb0NBLHd6QkRLWSxZQUFZO2tHQUVYLE9BQU87a0JBUm5CLFNBQVM7aUNBQ0ksSUFBSSxZQUNOLHVCQUF1QixtQkFHaEIsdUJBQXVCLENBQUMsTUFBTSxXQUN0QyxDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQzt3REFHL0IsYUFBYTtzQkFBbEMsU0FBUzt1QkFBQyxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuZGV2L2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge0NvbW1vbk1vZHVsZSwgTmdJZiwgTmdTd2l0Y2gsIE5nU3dpdGNoQ2FzZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBEZXN0cm95UmVmLFxuICBFbGVtZW50UmVmLFxuICBWaWV3Q2hpbGQsXG4gIGVmZmVjdCxcbiAgaW5qZWN0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7dGFrZVVudGlsRGVzdHJveWVkfSBmcm9tICdAYW5ndWxhci9jb3JlL3J4anMtaW50ZXJvcCc7XG5pbXBvcnQge2RlbGF5LCBmaWx0ZXIsIG1hcH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7TG9hZGluZ1N0ZXB9IGZyb20gJy4uL3NlcnZpY2VzL25vZGUtcnVudGltZS1zYW5kYm94LnNlcnZpY2UnO1xuaW1wb3J0IHtOb2RlUnVudGltZVNhbmRib3h9IGZyb20gJy4uL3NlcnZpY2VzL25vZGUtcnVudGltZS1zYW5kYm94LnNlcnZpY2UnO1xuaW1wb3J0IHtOb2RlUnVudGltZVN0YXRlfSBmcm9tICcuLi9zZXJ2aWNlcy9ub2RlLXJ1bnRpbWUtc3RhdGUuc2VydmljZSc7XG5cbi8vIFRPRE8oam9zZXBocGVycm90dCk6IERldGVybWluZSBob3cgd2UgY2FuIGxvYWQgdGhlIHByZXZpZXcgZXJyb3IgY29tcG9uZW50IGR5bmFtaWNhbGx5IGFnYWluLlxuaW1wb3J0IHtQcmV2aWV3RXJyb3J9IGZyb20gJy4vcHJldmlldy1lcnJvci5jb21wb25lbnQnO1xuXG50eXBlIFByZXZpZXdVcmxFbWl0dGVkVmFsdWUgPSB7XG4gIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgcHJldmlld0lmcmFtZTogRWxlbWVudFJlZjxIVE1MSUZyYW1lRWxlbWVudD47XG59O1xuXG5AQ29tcG9uZW50KHtcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgc2VsZWN0b3I6ICdkb2NzLXR1dG9yaWFsLXByZXZpZXcnLFxuICB0ZW1wbGF0ZVVybDogJy4vcHJldmlldy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3ByZXZpZXcuY29tcG9uZW50LnNjc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE5nSWYsIE5nU3dpdGNoLCBOZ1N3aXRjaENhc2VdLFxufSlcbmV4cG9ydCBjbGFzcyBQcmV2aWV3IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBWaWV3Q2hpbGQoJ3ByZXZpZXcnKSBwcmV2aWV3SWZyYW1lOiBFbGVtZW50UmVmPEhUTUxJRnJhbWVFbGVtZW50PiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGNoYW5nZURldGVjdG9yUmVmID0gaW5qZWN0KENoYW5nZURldGVjdG9yUmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSBkZXN0cm95UmVmID0gaW5qZWN0KERlc3Ryb3lSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IG5vZGVSdW50aW1lU2FuZGJveCA9IGluamVjdChOb2RlUnVudGltZVNhbmRib3gpO1xuICBwcml2YXRlIHJlYWRvbmx5IG5vZGVSdW50aW1lU3RhdGUgPSBpbmplY3QoTm9kZVJ1bnRpbWVTdGF0ZSk7XG5cbiAgbG9hZGluZ1Byb2dyZXNzVmFsdWUgPSB0aGlzLm5vZGVSdW50aW1lU3RhdGUubG9hZGluZ1N0ZXA7XG4gIGxvYWRpbmdFbnVtID0gTG9hZGluZ1N0ZXA7XG5cbiAgcHJldmlld0Vycm9yQ29tcG9uZW50OiB0eXBlb2YgUHJldmlld0Vycm9yIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGVmZmVjdChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5ub2RlUnVudGltZVN0YXRlLmxvYWRpbmdTdGVwKCkgPT09IExvYWRpbmdTdGVwLkVSUk9SKSB7XG4gICAgICAgIHRoaXMucHJldmlld0Vycm9yQ29tcG9uZW50ID0gUHJldmlld0Vycm9yO1xuXG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5ub2RlUnVudGltZVNhbmRib3gucHJldmlld1VybCRcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAoKHVybCkgPT4gKHt1cmwsIHByZXZpZXdJZnJhbWU6IHRoaXMucHJldmlld0lmcmFtZX0pKSxcbiAgICAgICAgZmlsdGVyKCh2YWx1ZSk6IHZhbHVlIGlzIFByZXZpZXdVcmxFbWl0dGVkVmFsdWUgPT4gISF2YWx1ZS5wcmV2aWV3SWZyYW1lKSxcbiAgICAgICAgLy8gTm90ZTogVGhlIGRlbGF5IGlzIGJlaW5nIHVzZWQgaGVyZSB0byB3b3JrYXJvdW5kIHRoZSBmbGlja2VyaW5nIGlzc3VlXG4gICAgICAgIC8vIHdoaWxlIHN3aXRjaGluZyB0dXRvcmlhbHNcbiAgICAgICAgZGVsYXkoMTAwKSxcbiAgICAgICAgdGFrZVVudGlsRGVzdHJveWVkKHRoaXMuZGVzdHJveVJlZiksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCh7dXJsLCBwcmV2aWV3SWZyYW1lfSkgPT4ge1xuICAgICAgICAvLyBLbm93biBpc3N1ZSAtIEJpbmRpbmcgdG8gdGhlIHNyYyBvZiBhbiBpZnJhbWUgY2F1c2VzIHRoZSBpZnJhbWUgdG8gZmxpY2tlcjogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTY5OTRcbiAgICAgICAgcHJldmlld0lmcmFtZS5uYXRpdmVFbGVtZW50LnNyYyA9IHVybCA/PyAnJztcbiAgICAgIH0pO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiYWRldi1lbWJlZGRlZC1lZGl0b3ItcHJldmlldy1jb250YWluZXJcIj5cbiAgQGlmIChsb2FkaW5nUHJvZ3Jlc3NWYWx1ZSgpICE9PSBsb2FkaW5nRW51bS5FUlJPUikge1xuICA8aWZyYW1lXG4gICAgI3ByZXZpZXdcbiAgICBjbGFzcz1cImFkZXYtZW1iZWRkZWQtZWRpdG9yLXByZXZpZXdcIlxuICAgIGFsbG93PVwiY3Jvc3Mtb3JpZ2luLWlzb2xhdGVkXCJcbiAgICB0aXRsZT1cIkVkaXRvciBwcmV2aWV3XCJcbiAgPjwvaWZyYW1lPlxuICB9IEBpZiAocHJldmlld0Vycm9yQ29tcG9uZW50KSB7XG4gIDxuZy1jb250YWluZXJcbiAgICAqbmdDb21wb25lbnRPdXRsZXQ9XCJwcmV2aWV3RXJyb3JDb21wb25lbnRcIlxuICAvPlxuICB9IEBpZiAobG9hZGluZ1Byb2dyZXNzVmFsdWUoKSA8IGxvYWRpbmdFbnVtLlJFQURZICYmIGxvYWRpbmdQcm9ncmVzc1ZhbHVlKCkgIT09IGxvYWRpbmdFbnVtLkVSUk9SKVxuICB7XG4gIDxkaXYgY2xhc3M9XCJhZGV2LWVtYmVkZGVkLWVkaXRvci1wcmV2aWV3LWxvYWRpbmdcIj5cbiAgICBAc3dpdGNoIChsb2FkaW5nUHJvZ3Jlc3NWYWx1ZSgpKSB7IEBjYXNlIChsb2FkaW5nRW51bS5OT1RfU1RBUlRFRCkge1xuICAgIDxzcGFuIGNsYXNzPVwiYWRldi1lbWJlZGRlZC1lZGl0b3ItcHJldmlldy1sb2FkaW5nLXN0YXJ0aW5nXCI+U3RhcnRpbmc8L3NwYW4+XG4gICAgfSBAY2FzZSAobG9hZGluZ0VudW0uQk9PVCkge1xuICAgIDxzcGFuIGNsYXNzPVwiYWRldi1lbWJlZGRlZC1lZGl0b3ItcHJldmlldy1sb2FkaW5nLWJvb3RcIj5Cb290aW5nPC9zcGFuPlxuICAgIH0gQGNhc2UgKGxvYWRpbmdFbnVtLkxPQURfRklMRVMpIHtcbiAgICA8c3BhbiBjbGFzcz1cImFkZXYtZW1iZWRkZWQtZWRpdG9yLXByZXZpZXctbG9hZGluZy1sb2FkLWZpbGVzXCI+Q3JlYXRpbmcgcHJvamVjdDwvc3Bhbj5cbiAgICB9IEBjYXNlIChsb2FkaW5nRW51bS5JTlNUQUxMKSB7XG4gICAgPHNwYW4gY2xhc3M9XCJhZGV2LWVtYmVkZGVkLWVkaXRvci1wcmV2aWV3LWxvYWRpbmctaW5zdGFsbFwiPkluc3RhbGxpbmcgcGFja2FnZXM8L3NwYW4+XG4gICAgfSBAY2FzZSAobG9hZGluZ0VudW0uU1RBUlRfREVWX1NFUlZFUikge1xuICAgIDxzcGFuIGNsYXNzPVwiYWRldi1lbWJlZGRlZC1lZGl0b3ItcHJldmlldy1sb2FkaW5nLXN0YXJ0LWRldi1zZXJ2ZXJcIj5cbiAgICAgIEluaXRpYWxpemluZyBkZXYgc2VydmVyXG4gICAgPC9zcGFuPlxuICAgIH0gfVxuICAgIDxwcm9ncmVzc1xuICAgICAgdGl0bGU9XCJQcmV2aWV3IHByb2dyZXNzXCJcbiAgICAgIFt2YWx1ZV09XCJsb2FkaW5nUHJvZ3Jlc3NWYWx1ZSgpXCJcbiAgICAgIFttYXhdPVwibG9hZGluZ0VudW0uUkVBRFlcIlxuICAgID48L3Byb2dyZXNzPlxuICA8L2Rpdj5cbiAgfVxuPC9kaXY+XG4iXX0=