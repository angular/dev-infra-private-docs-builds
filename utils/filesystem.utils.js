/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.dev/license
 */
import { normalizePath } from './navigation.utils';
export const checkFilesInDirectory = async (dir, fs, filterFoldersPredicate = () => true, files = []) => {
    const entries = (await fs.readdir(dir, { withFileTypes: true })) ?? [];
    for (const entry of entries) {
        const fullPath = normalizePath(`${dir}/${entry.name}`);
        if (entry.isFile()) {
            const content = await fs.readFile(fullPath, 'utf-8');
            files.push({ content, path: fullPath });
        }
        else if (entry.isDirectory() && filterFoldersPredicate(entry.name)) {
            await checkFilesInDirectory(fullPath, fs, filterFoldersPredicate, files);
        }
    }
    return files;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZXN5c3RlbS51dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2RvY3MvdXRpbHMvZmlsZXN5c3RlbS51dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFFSCxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFvQmpELE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLEtBQUssRUFDeEMsR0FBVyxFQUNYLEVBQWlCLEVBQ2pCLHlCQUFxRCxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQy9ELFFBQTBCLEVBQUUsRUFDNUIsRUFBRTtJQUNGLE1BQU0sT0FBTyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBRXJFLEtBQUssTUFBTSxLQUFLLElBQUksT0FBTyxFQUFFLENBQUM7UUFDNUIsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRXZELElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbkIsTUFBTSxPQUFPLEdBQUcsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNyRCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNyRSxNQUFNLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmRldi9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHtub3JtYWxpemVQYXRofSBmcm9tICcuL25hdmlnYXRpb24udXRpbHMnO1xudHlwZSBGaWxlQW5kQ29udGVudCA9IGFueTtcblxuaW50ZXJmYWNlIERpckVudDxUPiB7XG4gIG5hbWU6IFQ7XG4gIGlzRmlsZSgpOiBib29sZWFuO1xuICBpc0RpcmVjdG9yeSgpOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgRmlsZVN5c3RlbUFQSSB7XG4gIHJlYWRkaXIoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGVuY29kaW5nPzogQnVmZmVyRW5jb2RpbmcgfCBudWxsO1xuICAgICAgd2l0aEZpbGVUeXBlczogdHJ1ZTtcbiAgICB9LFxuICApOiBQcm9taXNlPERpckVudDxzdHJpbmc+W10+O1xuICByZWFkRmlsZShwYXRoOiBzdHJpbmcsIGVuY29kaW5nPzogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+O1xufVxuXG5leHBvcnQgY29uc3QgY2hlY2tGaWxlc0luRGlyZWN0b3J5ID0gYXN5bmMgKFxuICBkaXI6IHN0cmluZyxcbiAgZnM6IEZpbGVTeXN0ZW1BUEksXG4gIGZpbHRlckZvbGRlcnNQcmVkaWNhdGU6IChwYXRoPzogc3RyaW5nKSA9PiBib29sZWFuID0gKCkgPT4gdHJ1ZSxcbiAgZmlsZXM6IEZpbGVBbmRDb250ZW50W10gPSBbXSxcbikgPT4ge1xuICBjb25zdCBlbnRyaWVzID0gKGF3YWl0IGZzLnJlYWRkaXIoZGlyLCB7d2l0aEZpbGVUeXBlczogdHJ1ZX0pKSA/PyBbXTtcblxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICBjb25zdCBmdWxsUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7ZGlyfS8ke2VudHJ5Lm5hbWV9YCk7XG5cbiAgICBpZiAoZW50cnkuaXNGaWxlKCkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShmdWxsUGF0aCwgJ3V0Zi04Jyk7XG4gICAgICBmaWxlcy5wdXNoKHtjb250ZW50LCBwYXRoOiBmdWxsUGF0aH0pO1xuICAgIH0gZWxzZSBpZiAoZW50cnkuaXNEaXJlY3RvcnkoKSAmJiBmaWx0ZXJGb2xkZXJzUHJlZGljYXRlKGVudHJ5Lm5hbWUpKSB7XG4gICAgICBhd2FpdCBjaGVja0ZpbGVzSW5EaXJlY3RvcnkoZnVsbFBhdGgsIGZzLCBmaWx0ZXJGb2xkZXJzUHJlZGljYXRlLCBmaWxlcyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpbGVzO1xufTtcbiJdfQ==